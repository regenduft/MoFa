<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Object.pm</title>
<meta http-equiv="content-type" content="text/html; charset=iso8859-15" />
<link rev="made" href="mailto:Gentoo@notebook.sybevna.de" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<ul>

		<li><a href="#mofa__model__object">Mofa::Model::Object</a></li>
		<ul>

			<ul>

				<li><a href="#beschreibung">Beschreibung</a></li>
				<li><a href="#skalare_attribute_">Skalare Attribute:</a></li>
				<li><a href="#foreignkeyattribute">Foreign-Key-Attribute</a></li>
				<li><a href="#öffentliche_klassenmethoden">Öffentliche Klassenmethoden</a></li>
				<li><a href="#__new___"><code>$ new($)</code></a></li>
				<li><a href="#__get___"><code>$ get($)</code></a></li>
				<li><a href="#__get_ids__"><code>@ get_ids()</code></a></li>
				<li><a href="#__create_table__"><code>@ create_table()</code></a></li>
				<li><a href="#öffentliche_objektmethoden">Öffentliche Objektmethoden</a></li>
				<li><a href="#__add__"><code>$ add()</code></a></li>
				<li><a href="#__update___"><code>$ update(@)</code></a></li>
				<li><a href="#protected_klassenmethoden">Protected Klassenmethoden</a></li>
				<li><a href="#__unquoted_fields__"><code>@ unquoted_fields()</code></a></li>
				<li><a href="#__quoted_fields__"><code>@ quoted_fields()</code></a></li>
				<li><a href="#__foreign_keys__"><code>% foreign_keys()</code></a></li>
				<li><a href="#__fields__"><code>@ fields()</code></a></li>
				<li><a href="#__table__"><code>$ table()</code></a></li>
				<li><a href="#__dbh__"><code>$ dbh()</code></a></li>
				<li><a href="#protected_objektmethoden">Protected Objektmethoden</a></li>
				<li><a href="#__dbval___"><code>$ dbval($)</code></a></li>
				<li><a href="#___get_set_fkey_____"><code>$ _get_set_fkey($$@)</code></a></li>
			</ul>

		</ul>

	</ul>

</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h2><a name="mofa__model__object">Mofa::Model::Object</a></h2>
<p>Basisklasse für die Klassen zur Datenbankabstraktion</p>
<p>
</p>
<h4><a name="beschreibung">Beschreibung</a></h4>
<p>Stellt Funktionen zum Speichern und Auslesen eines Objektes
aus einer Datenbanktabelle zur Verfüngung.</p>
<p>Die Methoden <code>unquoted_fields</code>, <code>quoted_fields</code>, <code>foreign_keys</code> und 
<code>table</code> müssen von den Klassen, die von Object erben, überladen werden.</p>
<p>
</p>
<h4><a name="skalare_attribute_">Skalare Attribute:</a></h4>
<p>Für alle öffentlichen Attribute gibt es eine gleichnamige Methode, die
immer den Wert des Attributes zurückgibt, und den Wert
des Attributes setzt, wenn man ihr einen Parameter übergibt.</p>
<p><code>id - (int)</code> Primary Key des Datensatzes zu diesem Objekt.</p>
<p>
</p>
<h4><a name="foreignkeyattribute">Foreign-Key-Attribute</a></h4>
<p>Für alle Foreign-Key-Attribute gibt es eine gleichnamige Methode,
die den Wert des Attributes als Objekt zurückgibt, und den Wert
des Attributes setzt wenn man ihr ein Objekt oder einen Skalar,
der Primary-Key der entsprechenden Tabelle ist, übergibt.</p>
<p>Zusätzlich gibt es eine Methode AttributnameId(), mit der nur der
Primary-Key des Attributes zurückgegeben wird.</p>
<p>
</p>
<h4><a name="öffentliche_klassenmethoden">Öffentliche Klassenmethoden</a></h4>
<p>
</p>
<h4><a name="__new___"><code>$ new($)</code></a></h4>
<p><em>Parameter:</em> [Hashreferenz]</p>
<p><em>Rückgabewert:</em> Object-Objekt</p>
<p>Gibt ein neues Objekt vom Typ ``Object'' zurück.
Falls ein Parameter übergeben wird, werden die Attribute mit 
den im übergebenem Hash spezifizierten Werten initialisiert.</p>
<p>
</p>
<h4><a name="__get___"><code>$ get($)</code></a></h4>
<p><em>Parameter:</em> Id eines Datensatzes (<code>int</code>)</p>
<p><em>Rückgabewert:</em> Object-Objekt</p>
<p>Liest das Objekt mit der spezifizierten Id aus der Datenbank.</p>
<p>
</p>
<h4><a name="__get_ids__"><code>@ get_ids()</code></a></h4>
<p><em>Rückgabewert:</em> Liste von Ids aller Datensätze in der Tabelle für diese Klasse (<code>(int,..)</code>)</p>
<p>Liest alle Ids von Objekten des Typs ``Object'' aus der Datenbank.</p>
<p>
</p>
<h4><a name="__create_table__"><code>@ create_table()</code></a></h4>
<p><em>Rückgabewert:</em> Liste von <code>string</code> mit Statusinformationen</p>
<p>Legt die Tabelle, in der die Objekte dieser Klasse gespeichert
werden, in der Datenbank an.</p>
<p>
</p>
<h4><a name="öffentliche_objektmethoden">Öffentliche Objektmethoden</a></h4>
<p>
</p>
<h4><a name="__add__"><code>$ add()</code></a></h4>
<p><em>Rückgabewert:</em> 1 bei Erfolg, &lt;1 sonst (<code>int</code>)</p>
<p>Fügt das Objekt zur Datenbank hinzu. Der Wert des Attributs
id wird auf die id des neuen Eintrags gesetzt.</p>
<p>
</p>
<h4><a name="__update___"><code>$ update(@)</code></a></h4>
<p><em>Parameter:</em> id_col (<code>string</code>), col_to_update (<code>string</code>), col_to_update, ...</p>
<p><em>Rückgabewert:</em> 1 bei Erfolg, &lt; 1 sonst (<code>int</code>)</p>
<p>Aktualisiert alle Einträge in der Datenbank, deren Wert
für das Attribut id_col mit dem Wert des Attributes in 
diesem Objekt übereinstimmt. 
Werden weitere Attribute angegeben, (col_to_update), 
werden nur diese Attribute mit den Werten dieses 
Objektes überschrieben, sonst alle.</p>
<p>
</p>
<h4><a name="protected_klassenmethoden">Protected Klassenmethoden</a></h4>
<p>
</p>
<h4><a name="__unquoted_fields__"><code>@ unquoted_fields()</code></a></h4>
<p><em>Rückgabewert:</em> Liste der Spalten, die kein Text beinhalten (<code>(string,..)</code>)</p>
<p>
</p>
<h4><a name="__quoted_fields__"><code>@ quoted_fields()</code></a></h4>
<p><em>Rückgabewert:</em> Liste der Spalten, die Text beinhalten (<code>(string,..)</code>)</p>
<p>
</p>
<h4><a name="__foreign_keys__"><code>% foreign_keys()</code></a></h4>
<p><em>Rückgabewert:</em> Paare (Spalte, Tabelle) von Spalten die Foreign Key
einer anderen Tabelle sind. (<code>(string,string,..)</code>)</p>
<p>
</p>
<h4><a name="__fields__"><code>@ fields()</code></a></h4>
<p><em>Rückgabewert:</em> Liste aller Spalten (<code>(string,..)</code>))</p>
<p>
</p>
<h4><a name="__table__"><code>$ table()</code></a></h4>
<p><em>Rückgabewert:</em> Name der Tabelle, in der Objekte dieser Klasse
gespeichert werden (<code>string</code>)</p>
<p>
</p>
<h4><a name="__dbh__"><code>$ dbh()</code></a></h4>
<p><em>Rückgabewert:</em> Datenbankhandle auf die Datenbank, in der die
Objekte gespeichert werden.</p>
<p>
</p>
<h4><a name="protected_objektmethoden">Protected Objektmethoden</a></h4>
<p>
</p>
<h4><a name="__dbval___"><code>$ dbval($)</code></a></h4>
<p><em>Parameter:</em> Attributname</p>
<p><em>Rückgabewert:</em> Wert des Attributs, wie er in die Datenbank geschrieben wird.
</p>
<pre>

=head4 C&lt;$ _get_set($@)&gt;</pre>
<p><em>Parameter:</em> Attributname (<code>string</code>), [Skalar]</p>
<p><em>Rückgabewert:</em> Wert des Attributes</p>
<p>Falls 2 Parameter übergeben werden, wird der 
Wert des Attributes gesetzt.</p>
<p>
</p>
<h4><a name="___get_set_fkey_____"><code>$ _get_set_fkey($$@)</code></a></h4>
<p><em>Parameter:</em> Attributname (<code>string</code>), Klassenname (<code>string</code>), [Skalar, Skalar]</p>
<p><em>Rückgabewert:</em> Wert des Attributes als Objekt des entsprechenden Typs.</p>
<p>Falls 4 Parameter übergeben werden, wird der letzte Parameter
als Wert des Attributes gesetzt. Der 3. Parameter wird immer ignoriert.</p>

</body>

</html>
